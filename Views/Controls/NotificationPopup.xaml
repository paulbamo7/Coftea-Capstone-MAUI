<?xml version="1.0" encoding="utf-8" ?>
<ContentView 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="Coftea_Capstone.Views.Controls.NotificationPopup"
    x:Name="NotificationPopupView"
    BackgroundColor="Transparent"
    IsVisible="{Binding IsNotificationVisible}"
    InputTransparent="False">

    <Grid VerticalOptions="Fill" HorizontalOptions="Fill" InputTransparent="False">
        <Grid.GestureRecognizers>
            <TapGestureRecognizer Command="{Binding CloseNotificationCommand}" />
        </Grid.GestureRecognizers>
        
        <!-- Notification Frame (centered) -->
        <Frame VerticalOptions="Center"
               HorizontalOptions="Center"
               Margin="20"
               Padding="20"
               BackgroundColor="#F8E8D7"
               CornerRadius="15"
               WidthRequest="360"
               HeightRequest="90"
               HasShadow="True"
               InputTransparent="False">

            <Grid ColumnDefinitions="Auto, *, Auto" RowDefinitions="*">
                <!-- Icon -->
                <Label Grid.Column="0" Grid.Row="0"
                       Text="{Binding NotificationType, Converter={StaticResource NotificationTextIconConverter}}"
                       FontSize="24" 
                       FontAttributes="Bold"
                       VerticalOptions="Center"
                       HorizontalOptions="Center"
                       TextColor="{Binding NotificationType, Converter={StaticResource NotificationColorConverter}}"
                       Margin="0,0,15,0" />
                
                <!-- Message -->
                <Label Grid.Column="1" Grid.Row="0"
                       Text="{Binding NotificationMessage}" 
                       FontSize="16" 
                       FontAttributes="Bold"
                       VerticalOptions="Center"
                       HorizontalTextAlignment="Center"
                       TextColor="#8B4513"
                       LineBreakMode="WordWrap" />
                
                <!-- Close Button -->
                <Button Grid.Column="2" Grid.Row="0"
                        Text="Ã—"
                        FontSize="20"
                        FontAttributes="Bold"
                        BackgroundColor="Transparent"
                        TextColor="#8B4513"
                        WidthRequest="30"
                        HeightRequest="30"
                        VerticalOptions="Center"
                        Command="{Binding CloseNotificationCommand}" />
            </Grid>
        </Frame>
    </Grid>
</ContentView>
