<ContentView
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="Coftea_Capstone.Views.Pages.Settings"
    BackgroundColor="#80000000"
    x:Name="SettingsPop"
    IsVisible="{Binding IsSettingsPopupVisible}"
    InputTransparent="False">

    <Grid VerticalOptions="Fill" HorizontalOptions="Fill" InputTransparent="False">
        <Grid.GestureRecognizers>
            <TapGestureRecognizer Command="{Binding CloseSettingsPopupCommand}" />
        </Grid.GestureRecognizers>

        <Frame VerticalOptions="Center"
               HorizontalOptions="Center"
               Padding="20"
               BackgroundColor="#F8E8D7"
               CornerRadius="20"
               WidthRequest="550"
               HeightRequest="450"
               InputTransparent="False">
            <Frame.GestureRecognizers>
                <TapGestureRecognizer Tapped="OnFrameTapped" />
            </Frame.GestureRecognizers>

            <VerticalStackLayout Spacing="15">
                <Label Text="Settings"
                       FontSize="22"
                       FontAttributes="Bold"
                       HorizontalOptions="Center" />

                <!-- 2x2 Grid for buttons -->
                <Grid RowDefinitions="*,*"
                      ColumnDefinitions="*,*"
                      ColumnSpacing="20"
                      RowSpacing="20"
                      HorizontalOptions="Center"
                      VerticalOptions="Center">

                    <!-- Row 0, Column 0 -->
                    <VerticalStackLayout Grid.Row="0" Grid.Column="0" HorizontalOptions="Center">
                        <ImageButton Source="usermanagementicon.png"
                                     BackgroundColor="#B89C83"
                                     HeightRequest="80" WidthRequest="80"
                                     Command="{Binding OpenUserManagementCommand}"
                                     />
                        <Label Text="User Management"
                               HorizontalOptions="Center"
                               FontSize="14"
                               FontAttributes="Bold"/>
                    </VerticalStackLayout>

                    <!-- Row 0, Column 1 -->
                    <VerticalStackLayout Grid.Row="0" Grid.Column="1" HorizontalOptions="Center">
                        <ImageButton Source="manageposicon.png"
                                     BackgroundColor="#B89C83"
                                     HeightRequest="80" WidthRequest="80"
                                     Command="{Binding OpenManagePOSOptionsCommand}"
                                     />
                        <Label Text="Manage POS Menu"
                               HorizontalOptions="Center"
                               FontSize="14"
                               FontAttributes="Bold"/>
                    </VerticalStackLayout>

                    <!-- Row 1, Column 0 -->
                    <VerticalStackLayout Grid.Row="1" Grid.Column="0" HorizontalOptions="Center">
                        <ImageButton Source="manageinventoryicon.png"
                                     BackgroundColor="#B89C83"
                                     HeightRequest="80" WidthRequest="80"
                                     Command="{Binding OpenManageInventoryOptionsCommand}"
                                     />
                        <Label Text="Manage Inventory"
                               HorizontalOptions="Center"
                               FontSize="14"
                               FontAttributes="Bold"/>
                    </VerticalStackLayout>

                    <!-- Row 1, Column 1 -->
                    <VerticalStackLayout Grid.Row="1" Grid.Column="1" HorizontalOptions="Center">
                        <ImageButton Source="logouticon.png"
                                     BackgroundColor="#B89C83"
                                     HeightRequest="80" WidthRequest="80"
                                     Command="{Binding LogoutCommand}"
                                     />
                        <Label Text="Logout"
                               HorizontalOptions="Center"
                               FontSize="14"
                               FontAttributes="Bold"/>
                    </VerticalStackLayout>

                </Grid>

                <!-- Close button at bottom -->
                <Button Text="Close"
                        Margin="0,10,0,0"
                        WidthRequest="90"
                        BackgroundColor="Red"
                        HorizontalOptions="Center"
                        Command="{Binding CloseSettingsPopupCommand}"/>
            </VerticalStackLayout>
        </Frame>
    </Grid>
</ContentView>
