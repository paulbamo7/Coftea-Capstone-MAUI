<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Coftea_Capstone.Views.Pages.Inventory"
             xmlns:view="clr-namespace:Coftea_Capstone.Views.Pages"
             xmlns:otherViews="clr-namespace:Coftea_Capstone.Views.Controls"
             Title="Inventory">

    <Grid ColumnDefinitions="200, *" RowDefinitions="*">
        <!-- Sidebar Navigation -->
        <view:NavigationBar Grid.Column="0"/>

        <!-- Main Content -->
        <Grid Grid.Column="1" Padding="20" BackgroundColor="#D6BCA8"
              RowDefinitions="Auto,*,Auto">

            <VerticalStackLayout Grid.Column="1" Padding="20">
                <VerticalStackLayout Spacing="20">

                    <!-- Top Bar -->
                    <Grid ColumnDefinitions="*, Auto, Auto, Auto" VerticalOptions="Center" ColumnSpacing="25">
                        <Label Text="Inventory" FontSize="32" FontAttributes="Bold" VerticalOptions="Center"/>
                        <SearchBar Placeholder="Search for something" Grid.Column="1" WidthRequest="300"/>
                        <ImageButton Source="settings.png" Grid.Column="2" WidthRequest="30" HeightRequest="30" />
                        <ImageButton Source="usericon.png" Grid.Column="3" WidthRequest="40" HeightRequest="40"/>
                    </Grid>
                    <VerticalStackLayout BackgroundColor="#7E6D5F" Padding="20" Spacing="15">

                        <!-- Top Controls: Category Buttons, Sort By, Search -->
                        <Frame Padding="15" CornerRadius="15" BackgroundColor="#7E6D5F">
                            <HorizontalStackLayout Spacing="15" VerticalOptions="Center">
                                <!-- Category Buttons -->
                                <Button Text="Addons" TextColor="Black" FontAttributes="Bold" BackgroundColor="#D9D9D9" WidthRequest="150" HeightRequest="40" CornerRadius="7"/>
                                <Button Text="Ingredients" TextColor="Black" FontAttributes="Bold" BackgroundColor="#D9D9D9" WidthRequest="150" HeightRequest="40" CornerRadius="7"/>
                                <Button Text="Supplies" TextColor="Black" FontAttributes="Bold" BackgroundColor="#D9D9D9" WidthRequest="150" HeightRequest="40" CornerRadius="7"/>

                                <!-- Sort By Dropdown -->
                                <StackLayout BackgroundColor="White">
                                    <Picker Title="Sort By" WidthRequest="200">
                                        <Picker.Items>
                                            <x:String>Name (A-Z)</x:String>
                                            <x:String>Name (Z-A)</x:String>
                                            <x:String>Price (Low to High)</x:String>
                                            <x:String>Price (High to Low)</x:String>
                                        </Picker.Items>
                                    </Picker>
                                </StackLayout>

                                <!-- Search Bar -->
                                <SearchBar Placeholder="Search for something" WidthRequest="300"/>
                            </HorizontalStackLayout>
                        </Frame>

                        <!-- Header Row -->
                        <Grid ColumnDefinitions="1*, 1*, 2*" BackgroundColor="#DAAB97" Padding="15" HeightRequest="50" Margin="0,15,0,0">
                            <Label Text="Item" FontSize="15" FontAttributes="Bold" Grid.Column="0" VerticalOptions="Center" HorizontalOptions="Center"/>
                            <Label Text="Category" FontSize="15" FontAttributes="Bold" Grid.Column="1" VerticalOptions="Center" HorizontalOptions="Center"/>
                            <Label Text="Stocks" FontSize="15" FontAttributes="Bold" Grid.Column="2" VerticalOptions="Center" HorizontalOptions="Center"/>
                        </Grid>
                        <HorizontalStackLayout Spacing="20">
                            <Button Text="Edit" TextColor="Black" FontAttributes="Bold" WidthRequest="80" BackgroundColor="#FFDD02"/>
                            <Button Text="Add" TextColor="Black" FontAttributes="Bold" WidthRequest="80" BackgroundColor="#07AE37"/>
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </VerticalStackLayout>
        </Grid>
        <view:Settings 
                BindingContext="{Binding SettingsPopup}" 
                IsVisible="{Binding IsSettingsPopupVisible, Mode=TwoWay}"
                Grid.ColumnSpan="2" 
                Grid.RowSpan="1" />

        <otherViews:AddItemToInventory
                BindingContext="{Binding SettingsPopup}"
                IsVisible="{Binding IsAddItemToInventoryVisible}"
                Grid.ColumnSpan="2" />

    </Grid>
</ContentPage>